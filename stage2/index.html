<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Stage 2 - Debian Server with Nginx in Docker, NPM, Node, Vue | Docker and small scale production ready apps</title>
    <meta name="description" content="As a developer you want to setup your solution for both development and production">
    
    
    <link rel="preload" href="/may14/assets/css/0.styles.67ed0360.css" as="style"><link rel="preload" href="/may14/assets/js/app.e3ae97d2.js" as="script"><link rel="preload" href="/may14/assets/js/4.c1874e43.js" as="script"><link rel="prefetch" href="/may14/assets/js/10.8aa34345.js"><link rel="prefetch" href="/may14/assets/js/11.c7b0931a.js"><link rel="prefetch" href="/may14/assets/js/12.a211795f.js"><link rel="prefetch" href="/may14/assets/js/13.44b477ad.js"><link rel="prefetch" href="/may14/assets/js/2.deead8d0.js"><link rel="prefetch" href="/may14/assets/js/3.231c2442.js"><link rel="prefetch" href="/may14/assets/js/5.a9a5104f.js"><link rel="prefetch" href="/may14/assets/js/6.63edfdf6.js"><link rel="prefetch" href="/may14/assets/js/7.8835d2d4.js"><link rel="prefetch" href="/may14/assets/js/8.140a8825.js"><link rel="prefetch" href="/may14/assets/js/9.cb0d3982.js">
    <link rel="stylesheet" href="/may14/assets/css/0.styles.67ed0360.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/may14/" class="home-link router-link-active"><!----> <span class="site-name">Docker and small scale production ready apps</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/may14/" class="nav-link">Home</a></div><div class="nav-item"><a href="/may14/stage1/" class="nav-link">Stage1</a></div><div class="nav-item"><a href="/may14/stage2/" class="nav-link router-link-exact-active router-link-active">Stage2</a></div><div class="nav-item"><a href="/may14/stage3/" class="nav-link">Stage3</a></div><div class="nav-item"><a href="/may14/certbot/" class="nav-link">Certbot</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/may14/" class="nav-link">Home</a></div><div class="nav-item"><a href="/may14/stage1/" class="nav-link">Stage1</a></div><div class="nav-item"><a href="/may14/stage2/" class="nav-link router-link-exact-active router-link-active">Stage2</a></div><div class="nav-item"><a href="/may14/stage3/" class="nav-link">Stage3</a></div><div class="nav-item"><a href="/may14/certbot/" class="nav-link">Certbot</a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>Project</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Stage1</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Stage2</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/may14/stage2/" class="active sidebar-link">Stage 2 - Debian Server with Nginx in Docker, NPM, Node, Vue</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/may14/stage2/#workshop-instructions" class="sidebar-link">Workshop Instructions</a></li><li class="sidebar-sub-header"><a href="/may14/stage2/#introduction" class="sidebar-link">Introduction</a></li><li class="sidebar-sub-header"><a href="/may14/stage2/#workshop-instructions-2" class="sidebar-link">Workshop Instructions</a></li><li class="sidebar-sub-header"><a href="/may14/stage2/#install-docker-on-debian" class="sidebar-link">Install Docker on Debian</a></li><li class="sidebar-sub-header"><a href="/may14/stage2/#install-npm-node" class="sidebar-link">Install NPM, Node</a></li><li class="sidebar-sub-header"><a href="/may14/stage2/#sample-web-site" class="sidebar-link">Sample web site</a></li></ul></li><li><a href="/may14/stage2/2.client.html" class="sidebar-link">Stage 2 - Sample web site / client</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/may14/stage2/2.client.html#installation" class="sidebar-link">Installation</a></li><li class="sidebar-sub-header"><a href="/may14/stage2/2.client.html#workshop-instructions" class="sidebar-link">Workshop Instructions</a></li></ul></li><li><a href="/may14/stage2/3.nginx.html" class="sidebar-link">Docker and Ngnix</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/may14/stage2/3.nginx.html#workshop-instructions" class="sidebar-link">Workshop Instructions</a></li><li class="sidebar-sub-header"><a href="/may14/stage2/3.nginx.html#the-docker-files" class="sidebar-link">The docker files</a></li><li class="sidebar-sub-header"><a href="/may14/stage2/3.nginx.html#launch-the-app-on-dev" class="sidebar-link">Launch the app on dev</a></li><li class="sidebar-sub-header"><a href="/may14/stage2/3.nginx.html#launch-the-app-on-prod" class="sidebar-link">Launch the app on prod</a></li></ul></li><li><a href="/may14/stage2/4.scripts.html" class="sidebar-link">Stage 2 - Scripts</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/may14/stage2/4.scripts.html#workshop-instructions" class="sidebar-link">Workshop Instructions</a></li></ul></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Stage3</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Certbot</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="stage-2-debian-server-with-nginx-in-docker-npm-node-vue"><a href="#stage-2-debian-server-with-nginx-in-docker-npm-node-vue" aria-hidden="true" class="header-anchor">#</a> Stage 2 - Debian Server with Nginx in Docker, NPM, Node, Vue</h1> <h2 id="workshop-instructions"><a href="#workshop-instructions" aria-hidden="true" class="header-anchor">#</a> Workshop Instructions</h2> <div class="language- extra-class"><pre class="language-text"><code>git checkout -b stage2
</code></pre></div><h2 id="introduction"><a href="#introduction" aria-hidden="true" class="header-anchor">#</a> Introduction</h2> <p>The following steps, after practice, take about 10 minutes to complete with a reasonable internet connection.</p> <p>Prerequisite: you have a secure server setup as described in Stage 1</p> <p>Objective: We will have a web server, that will server a sample web site. Both will be production ready and have a great developer experience.</p> <ol><li><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAtdJREFUOBGVlU1sTFEUx//vzbTTllELo9JYSBG1UbGR+G5ZCBKxEIRMRNPpTkKFTauviaYhIRERHw2KSpEmFkisWiK1IyERJCyLMZEQQqcfb/zum7wxb8wkNZP77r3n/M//nXPuPedZKvVzNBvVMoXUpIz2McKy1adfGlZEL+XoWzFT6x+ho5mYHsC4BZKlcpWWpS8eLqO5yMvZv0Xeq0ldhfhnPkeQsF0LVQnQ1npN4UlGt5hHNKaUKthNKoZ3a9DvZTQieYzHCZ3QB5/0L6GjRSrTPRQ1+NSmz7qty5rwgYE5AXKedkN+GnkS1A48fW8wWUITZkgPGPUa1xaULwIEpTYdalCVHuH5OyLZZsK3PaylZvK2jje1TZvM0Wb8rMCBg56tTd752TqmagQJyIY0qrulnAnIu7QRy7PEN0OdGsS7Ifathsuc2XKSW8+4WTJn+Wzd4Msgs4mlAyJhKWwFR6UabJTmnqUBPMu3K7p2VIdXV/DovNo1kMNksDUcITXaLOKAkoBSHqBdi3n3ghzYXzica0TXwA3i2QVf7M3G1nC4iptDcQPKsNbypj4dVTQnN+uwLoJ8DVlPTl64sBSyCfUGXtZAEvP0X7nM0ifN0nFv70AVJcQMxxbVoUIOb29sDYd03SaEYdyNMFZ5ynPkYkxHWG9Sl/Yw96CbA66FC5L2MIUPF1vDwU0JaSVFHtF2MHXUyoCeE9hT/aD4PuJbL8AKRhx/szkuJDNVU61TRJqmDLttndR3KC4RcpPma2cO36n7hNHKvpkTHc3JCxe12JibMgUHXMHSC2sJ79n6H9Wyguge5pde8eYwocMEfKfkRTdh1moXzzOkI0n5FTQHPwzTvqqgsbTBOyxX/axHWKc4KIt/DP1q8pVtX66e6DeHVbR9+aTBBltPfschSqK2yKlpsOZGvEE+jQbrk5rZfAKmaE/lNFJX+yGZZPQjM/X7Cn3RT8AfwjnZAnbGflYAAAAASUVORK5CYII=" alt="checked" title="checked"> Production quality web server. Responsive. Ready for micro-services.</li> <li><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAtdJREFUOBGVlU1sTFEUx//vzbTTllELo9JYSBG1UbGR+G5ZCBKxEIRMRNPpTkKFTauviaYhIRERHw2KSpEmFkisWiK1IyERJCyLMZEQQqcfb/zum7wxb8wkNZP77r3n/M//nXPuPedZKvVzNBvVMoXUpIz2McKy1adfGlZEL+XoWzFT6x+ho5mYHsC4BZKlcpWWpS8eLqO5yMvZv0Xeq0ldhfhnPkeQsF0LVQnQ1npN4UlGt5hHNKaUKthNKoZ3a9DvZTQieYzHCZ3QB5/0L6GjRSrTPRQ1+NSmz7qty5rwgYE5AXKedkN+GnkS1A48fW8wWUITZkgPGPUa1xaULwIEpTYdalCVHuH5OyLZZsK3PaylZvK2jje1TZvM0Wb8rMCBg56tTd752TqmagQJyIY0qrulnAnIu7QRy7PEN0OdGsS7Ifathsuc2XKSW8+4WTJn+Wzd4Msgs4mlAyJhKWwFR6UabJTmnqUBPMu3K7p2VIdXV/DovNo1kMNksDUcITXaLOKAkoBSHqBdi3n3ghzYXzica0TXwA3i2QVf7M3G1nC4iptDcQPKsNbypj4dVTQnN+uwLoJ8DVlPTl64sBSyCfUGXtZAEvP0X7nM0ifN0nFv70AVJcQMxxbVoUIOb29sDYd03SaEYdyNMFZ5ynPkYkxHWG9Sl/Yw96CbA66FC5L2MIUPF1vDwU0JaSVFHtF2MHXUyoCeE9hT/aD4PuJbL8AKRhx/szkuJDNVU61TRJqmDLttndR3KC4RcpPma2cO36n7hNHKvpkTHc3JCxe12JibMgUHXMHSC2sJ79n6H9Wyguge5pde8eYwocMEfKfkRTdh1moXzzOkI0n5FTQHPwzTvqqgsbTBOyxX/axHWKc4KIt/DP1q8pVtX66e6DeHVbR9+aTBBltPfschSqK2yKlpsOZGvEE+jQbrk5rZfAKmaE/lNFJX+yGZZPQjM/X7Cn3RT8AfwjnZAnbGflYAAAAASUVORK5CYII=" alt="checked" title="checked"> Web server restarts after reboot</li> <li><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAtdJREFUOBGVlU1sTFEUx//vzbTTllELo9JYSBG1UbGR+G5ZCBKxEIRMRNPpTkKFTauviaYhIRERHw2KSpEmFkisWiK1IyERJCyLMZEQQqcfb/zum7wxb8wkNZP77r3n/M//nXPuPedZKvVzNBvVMoXUpIz2McKy1adfGlZEL+XoWzFT6x+ho5mYHsC4BZKlcpWWpS8eLqO5yMvZv0Xeq0ldhfhnPkeQsF0LVQnQ1npN4UlGt5hHNKaUKthNKoZ3a9DvZTQieYzHCZ3QB5/0L6GjRSrTPRQ1+NSmz7qty5rwgYE5AXKedkN+GnkS1A48fW8wWUITZkgPGPUa1xaULwIEpTYdalCVHuH5OyLZZsK3PaylZvK2jje1TZvM0Wb8rMCBg56tTd752TqmagQJyIY0qrulnAnIu7QRy7PEN0OdGsS7Ifathsuc2XKSW8+4WTJn+Wzd4Msgs4mlAyJhKWwFR6UabJTmnqUBPMu3K7p2VIdXV/DovNo1kMNksDUcITXaLOKAkoBSHqBdi3n3ghzYXzica0TXwA3i2QVf7M3G1nC4iptDcQPKsNbypj4dVTQnN+uwLoJ8DVlPTl64sBSyCfUGXtZAEvP0X7nM0ifN0nFv70AVJcQMxxbVoUIOb29sDYd03SaEYdyNMFZ5ynPkYkxHWG9Sl/Yw96CbA66FC5L2MIUPF1vDwU0JaSVFHtF2MHXUyoCeE9hT/aD4PuJbL8AKRhx/szkuJDNVU61TRJqmDLttndR3KC4RcpPma2cO36n7hNHKvpkTHc3JCxe12JibMgUHXMHSC2sJ79n6H9Wyguge5pde8eYwocMEfKfkRTdh1moXzzOkI0n5FTQHPwzTvqqgsbTBOyxX/axHWKc4KIt/DP1q8pVtX66e6DeHVbR9+aTBBltPfschSqK2yKlpsOZGvEE+jQbrk5rZfAKmaE/lNFJX+yGZZPQjM/X7Cn3RT8AfwjnZAnbGflYAAAAASUVORK5CYII=" alt="checked" title="checked"> Web server docker-ized</li> <li><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAtdJREFUOBGVlU1sTFEUx//vzbTTllELo9JYSBG1UbGR+G5ZCBKxEIRMRNPpTkKFTauviaYhIRERHw2KSpEmFkisWiK1IyERJCyLMZEQQqcfb/zum7wxb8wkNZP77r3n/M//nXPuPedZKvVzNBvVMoXUpIz2McKy1adfGlZEL+XoWzFT6x+ho5mYHsC4BZKlcpWWpS8eLqO5yMvZv0Xeq0ldhfhnPkeQsF0LVQnQ1npN4UlGt5hHNKaUKthNKoZ3a9DvZTQieYzHCZ3QB5/0L6GjRSrTPRQ1+NSmz7qty5rwgYE5AXKedkN+GnkS1A48fW8wWUITZkgPGPUa1xaULwIEpTYdalCVHuH5OyLZZsK3PaylZvK2jje1TZvM0Wb8rMCBg56tTd752TqmagQJyIY0qrulnAnIu7QRy7PEN0OdGsS7Ifathsuc2XKSW8+4WTJn+Wzd4Msgs4mlAyJhKWwFR6UabJTmnqUBPMu3K7p2VIdXV/DovNo1kMNksDUcITXaLOKAkoBSHqBdi3n3ghzYXzica0TXwA3i2QVf7M3G1nC4iptDcQPKsNbypj4dVTQnN+uwLoJ8DVlPTl64sBSyCfUGXtZAEvP0X7nM0ifN0nFv70AVJcQMxxbVoUIOb29sDYd03SaEYdyNMFZ5ynPkYkxHWG9Sl/Yw96CbA66FC5L2MIUPF1vDwU0JaSVFHtF2MHXUyoCeE9hT/aD4PuJbL8AKRhx/szkuJDNVU61TRJqmDLttndR3KC4RcpPma2cO36n7hNHKvpkTHc3JCxe12JibMgUHXMHSC2sJ79n6H9Wyguge5pde8eYwocMEfKfkRTdh1moXzzOkI0n5FTQHPwzTvqqgsbTBOyxX/axHWKc4KIt/DP1q8pVtX66e6DeHVbR9+aTBBltPfschSqK2yKlpsOZGvEE+jQbrk5rZfAKmaE/lNFJX+yGZZPQjM/X7Cn3RT8AfwjnZAnbGflYAAAAASUVORK5CYII=" alt="checked" title="checked"> Vue web site with hot-swapping development environment</li> <li><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAtdJREFUOBGVlU1sTFEUx//vzbTTllELo9JYSBG1UbGR+G5ZCBKxEIRMRNPpTkKFTauviaYhIRERHw2KSpEmFkisWiK1IyERJCyLMZEQQqcfb/zum7wxb8wkNZP77r3n/M//nXPuPedZKvVzNBvVMoXUpIz2McKy1adfGlZEL+XoWzFT6x+ho5mYHsC4BZKlcpWWpS8eLqO5yMvZv0Xeq0ldhfhnPkeQsF0LVQnQ1npN4UlGt5hHNKaUKthNKoZ3a9DvZTQieYzHCZ3QB5/0L6GjRSrTPRQ1+NSmz7qty5rwgYE5AXKedkN+GnkS1A48fW8wWUITZkgPGPUa1xaULwIEpTYdalCVHuH5OyLZZsK3PaylZvK2jje1TZvM0Wb8rMCBg56tTd752TqmagQJyIY0qrulnAnIu7QRy7PEN0OdGsS7Ifathsuc2XKSW8+4WTJn+Wzd4Msgs4mlAyJhKWwFR6UabJTmnqUBPMu3K7p2VIdXV/DovNo1kMNksDUcITXaLOKAkoBSHqBdi3n3ghzYXzica0TXwA3i2QVf7M3G1nC4iptDcQPKsNbypj4dVTQnN+uwLoJ8DVlPTl64sBSyCfUGXtZAEvP0X7nM0ifN0nFv70AVJcQMxxbVoUIOb29sDYd03SaEYdyNMFZ5ynPkYkxHWG9Sl/Yw96CbA66FC5L2MIUPF1vDwU0JaSVFHtF2MHXUyoCeE9hT/aD4PuJbL8AKRhx/szkuJDNVU61TRJqmDLttndR3KC4RcpPma2cO36n7hNHKvpkTHc3JCxe12JibMgUHXMHSC2sJ79n6H9Wyguge5pde8eYwocMEfKfkRTdh1moXzzOkI0n5FTQHPwzTvqqgsbTBOyxX/axHWKc4KIt/DP1q8pVtX66e6DeHVbR9+aTBBltPfschSqK2yKlpsOZGvEE+jQbrk5rZfAKmaE/lNFJX+yGZZPQjM/X7Cn3RT8AfwjnZAnbGflYAAAAASUVORK5CYII=" alt="checked" title="checked"> For &quot;prod&quot; you can run exactly the same system on your development box that will run on the production server.</li> <li><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAtdJREFUOBGVlU1sTFEUx//vzbTTllELo9JYSBG1UbGR+G5ZCBKxEIRMRNPpTkKFTauviaYhIRERHw2KSpEmFkisWiK1IyERJCyLMZEQQqcfb/zum7wxb8wkNZP77r3n/M//nXPuPedZKvVzNBvVMoXUpIz2McKy1adfGlZEL+XoWzFT6x+ho5mYHsC4BZKlcpWWpS8eLqO5yMvZv0Xeq0ldhfhnPkeQsF0LVQnQ1npN4UlGt5hHNKaUKthNKoZ3a9DvZTQieYzHCZ3QB5/0L6GjRSrTPRQ1+NSmz7qty5rwgYE5AXKedkN+GnkS1A48fW8wWUITZkgPGPUa1xaULwIEpTYdalCVHuH5OyLZZsK3PaylZvK2jje1TZvM0Wb8rMCBg56tTd752TqmagQJyIY0qrulnAnIu7QRy7PEN0OdGsS7Ifathsuc2XKSW8+4WTJn+Wzd4Msgs4mlAyJhKWwFR6UabJTmnqUBPMu3K7p2VIdXV/DovNo1kMNksDUcITXaLOKAkoBSHqBdi3n3ghzYXzica0TXwA3i2QVf7M3G1nC4iptDcQPKsNbypj4dVTQnN+uwLoJ8DVlPTl64sBSyCfUGXtZAEvP0X7nM0ifN0nFv70AVJcQMxxbVoUIOb29sDYd03SaEYdyNMFZ5ynPkYkxHWG9Sl/Yw96CbA66FC5L2MIUPF1vDwU0JaSVFHtF2MHXUyoCeE9hT/aD4PuJbL8AKRhx/szkuJDNVU61TRJqmDLttndR3KC4RcpPma2cO36n7hNHKvpkTHc3JCxe12JibMgUHXMHSC2sJ79n6H9Wyguge5pde8eYwocMEfKfkRTdh1moXzzOkI0n5FTQHPwzTvqqgsbTBOyxX/axHWKc4KIt/DP1q8pVtX66e6DeHVbR9+aTBBltPfschSqK2yKlpsOZGvEE+jQbrk5rZfAKmaE/lNFJX+yGZZPQjM/X7Cn3RT8AfwjnZAnbGflYAAAAASUVORK5CYII=" alt="checked" title="checked"> Docker compose provides</li></ol> <p>Very few files contribute to this stage.  We need a very simple Docker file to set up nginx and a docker-compose file to join the nginx
with the static web site.  Plus we set up our vue directory.  Note that we don't install nginx on our server.  By placing nginx in a container
we can run the same container, with exactly the same configuration, on both our development box and any server we wish.</p> <p>Why Debian?  We can just as easily use Ubuntu for our demonstrations because Ubuntu is a fork of Debian.  Your choice when
you extend your application.  I've chosen Debian because the work can easily port to Ubuntu if needed and Debian is known
to the more stable and secure. <a href="https://www.ubuntupit.com/debian-vs-ubuntu-top-15-things-to-know-before-choosing-the-best-one/" target="_blank" rel="noopener noreferrer">see point 11<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
RedHat's OS is also fine.</p> <p>We're using nginx for our web server because it is by far the best choice for our application architecture that is comprised
of static web resources complimented by API calls supported by a backend database.</p> <p>We start by setting up the server with Docker, npm and node.js.</p> <h2 id="workshop-instructions-2"><a href="#workshop-instructions-2" aria-hidden="true" class="header-anchor">#</a> Workshop Instructions</h2> <p>Log onto your server with the new (sudo-capable) user and follow the sections below.</p> <h2 id="install-docker-on-debian"><a href="#install-docker-on-debian" aria-hidden="true" class="header-anchor">#</a> Install Docker on Debian</h2> <p>For complete details see the <a href="https://docs.docker.com/install/linux/docker-ce/debian/" target="_blank" rel="noopener noreferrer">docs<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="set-up-the-debian-repository-for-docker"><a href="#set-up-the-debian-repository-for-docker" aria-hidden="true" class="header-anchor">#</a> Set up the debian repository for docker</h3> <div class="language- extra-class"><pre class="language-text"><code>sudo apt-get update
 
sudo apt-get install -y apt-transport-https ca-certificates curl gnupg2 software-properties-common

curl -fsSL https://download.docker.com/linux/debian/gpg | sudo apt-key add -

sudo apt-key fingerprint 0EBFCD88
# verify the finger print is 9DC8 5822 9FC7 DD38 854A E2D8 8D81 803C 0EBF CD88

# get the stable version 
sudo add-apt-repository &quot;deb [arch=amd64] https://download.docker.com/linux/debian $(lsb_release -cs) stable&quot;
</code></pre></div><h3 id="install-docker-ce"><a href="#install-docker-ce" aria-hidden="true" class="header-anchor">#</a> Install Docker-CE</h3> <div class="language- extra-class"><pre class="language-text"><code>sudo apt-get update

sudo apt-get install -y docker-ce docker-ce-cli containerd.io

# verify all is well ...
sudo docker run hello-world
</code></pre></div><h3 id="install-docker-compose"><a href="#install-docker-compose" aria-hidden="true" class="header-anchor">#</a> Install Docker-Compose</h3> <p>For complete details see the <a href="https://docs.docker.com/compose/install/" target="_blank" rel="noopener noreferrer">docs<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
The docs show how to install docker-compose on Mac, Windows, Linus, etc.</p> <div class="language- extra-class"><pre class="language-text"><code>sudo curl -L &quot;https://github.com/docker/compose/releases/download/1.24.0/docker-compose-$(uname -s)-$(uname -m)&quot; -o /usr/local/bin/docker-compose

sudo chmod +x /usr/local/bin/docker-compose

sudo docker-compose --version
</code></pre></div><h2 id="install-npm-node"><a href="#install-npm-node" aria-hidden="true" class="header-anchor">#</a> Install NPM, Node</h2> <div class="language- extra-class"><pre class="language-text"><code>curl -sL https://deb.nodesource.com/setup_10.x | sudo bash -

sudo apt-get install -y nodejs
</code></pre></div><h2 id="sample-web-site"><a href="#sample-web-site" aria-hidden="true" class="header-anchor">#</a> Sample web site</h2> <p>Go to the next part and set up the sample web site. Next: <a href="/may14/stage2/2.client.html">client</a></p></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/may14/stage1/server.html" class="prev">
          Server setup
        </a></span> <span class="next"><a href="/may14/stage2/2.client.html">
          Stage 2 - Sample web site / client
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/may14/assets/js/app.e3ae97d2.js" defer></script><script src="/may14/assets/js/4.c1874e43.js" defer></script>
  </body>
</html>
