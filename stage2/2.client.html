<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Stage 2 - Sample web site / client | Docker and small scale production ready apps</title>
    <meta name="description" content="As a developer you want to setup your solution for both development and production">
    
    
    <link rel="preload" href="/may14/assets/css/0.styles.67ed0360.css" as="style"><link rel="preload" href="/may14/assets/js/app.e3ae97d2.js" as="script"><link rel="preload" href="/may14/assets/js/9.cb0d3982.js" as="script"><link rel="prefetch" href="/may14/assets/js/10.8aa34345.js"><link rel="prefetch" href="/may14/assets/js/11.c7b0931a.js"><link rel="prefetch" href="/may14/assets/js/12.a211795f.js"><link rel="prefetch" href="/may14/assets/js/13.44b477ad.js"><link rel="prefetch" href="/may14/assets/js/2.deead8d0.js"><link rel="prefetch" href="/may14/assets/js/3.231c2442.js"><link rel="prefetch" href="/may14/assets/js/4.c1874e43.js"><link rel="prefetch" href="/may14/assets/js/5.a9a5104f.js"><link rel="prefetch" href="/may14/assets/js/6.63edfdf6.js"><link rel="prefetch" href="/may14/assets/js/7.8835d2d4.js"><link rel="prefetch" href="/may14/assets/js/8.140a8825.js">
    <link rel="stylesheet" href="/may14/assets/css/0.styles.67ed0360.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/may14/" class="home-link router-link-active"><!----> <span class="site-name">Docker and small scale production ready apps</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/may14/" class="nav-link">Home</a></div><div class="nav-item"><a href="/may14/stage1/" class="nav-link">Stage1</a></div><div class="nav-item"><a href="/may14/stage2/" class="nav-link router-link-active">Stage2</a></div><div class="nav-item"><a href="/may14/stage3/" class="nav-link">Stage3</a></div><div class="nav-item"><a href="/may14/certbot/" class="nav-link">Certbot</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/may14/" class="nav-link">Home</a></div><div class="nav-item"><a href="/may14/stage1/" class="nav-link">Stage1</a></div><div class="nav-item"><a href="/may14/stage2/" class="nav-link router-link-active">Stage2</a></div><div class="nav-item"><a href="/may14/stage3/" class="nav-link">Stage3</a></div><div class="nav-item"><a href="/may14/certbot/" class="nav-link">Certbot</a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>Project</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Stage1</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Stage2</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/may14/stage2/" class="sidebar-link">Stage 2 - Debian Server with Nginx in Docker, NPM, Node, Vue</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/may14/stage2/#workshop-instructions" class="sidebar-link">Workshop Instructions</a></li><li class="sidebar-sub-header"><a href="/may14/stage2/#introduction" class="sidebar-link">Introduction</a></li><li class="sidebar-sub-header"><a href="/may14/stage2/#workshop-instructions-2" class="sidebar-link">Workshop Instructions</a></li><li class="sidebar-sub-header"><a href="/may14/stage2/#install-docker-on-debian" class="sidebar-link">Install Docker on Debian</a></li><li class="sidebar-sub-header"><a href="/may14/stage2/#install-npm-node" class="sidebar-link">Install NPM, Node</a></li><li class="sidebar-sub-header"><a href="/may14/stage2/#sample-web-site" class="sidebar-link">Sample web site</a></li></ul></li><li><a href="/may14/stage2/2.client.html" class="active sidebar-link">Stage 2 - Sample web site / client</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/may14/stage2/2.client.html#installation" class="sidebar-link">Installation</a></li><li class="sidebar-sub-header"><a href="/may14/stage2/2.client.html#workshop-instructions" class="sidebar-link">Workshop Instructions</a></li></ul></li><li><a href="/may14/stage2/3.nginx.html" class="sidebar-link">Docker and Ngnix</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/may14/stage2/3.nginx.html#workshop-instructions" class="sidebar-link">Workshop Instructions</a></li><li class="sidebar-sub-header"><a href="/may14/stage2/3.nginx.html#the-docker-files" class="sidebar-link">The docker files</a></li><li class="sidebar-sub-header"><a href="/may14/stage2/3.nginx.html#launch-the-app-on-dev" class="sidebar-link">Launch the app on dev</a></li><li class="sidebar-sub-header"><a href="/may14/stage2/3.nginx.html#launch-the-app-on-prod" class="sidebar-link">Launch the app on prod</a></li></ul></li><li><a href="/may14/stage2/4.scripts.html" class="sidebar-link">Stage 2 - Scripts</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/may14/stage2/4.scripts.html#workshop-instructions" class="sidebar-link">Workshop Instructions</a></li></ul></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Stage3</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Certbot</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="stage-2-sample-web-site-client"><a href="#stage-2-sample-web-site-client" aria-hidden="true" class="header-anchor">#</a> Stage 2 - Sample web site / client</h1> <blockquote><p>Create a sample Vue web site</p></blockquote> <p>This stage could have used another web technology other than Vue. React, Angular, and others are all fine for the purposes here.
I've chosen Vue because I'd like to use it and it's simple to get up and running.  One command to create a project. One to
run a development instance and one to build the production ready static web site.  That's perfect for our needs here today.</p> <p><a href="https://cli.vuejs.org/guide/" target="_blank" rel="noopener noreferrer">Vue CLI guide<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="installation"><a href="#installation" aria-hidden="true" class="header-anchor">#</a> Installation</h2> <blockquote><p>During the workshop skip to the next section. The following describes how to set up the Vue web site.</p></blockquote> <p>Here is how you can create your own new application.
You will install Vue command line interface (CLI) locally and create a sample web site.
For the workshop these steps have been done for you.</p> <p>Your project directory structure started like this</p> <div class="language- extra-class"><pre class="language-text"><code>.
├─ ...
├─ client-stage2/
└─ ...
</code></pre></div><p>First, initialize the vue directory to make it a npm project.
This creates the basic <code>package.json</code> file.  This allows us to install Vue CLI and keep
the setup.</p> <div class="language- extra-class"><pre class="language-text"><code>cd client-stage2
# initialize the project and just accept the defaults for now
npm init
# install Vue CLI in this project
npm install --save  @vue/cli

vue create my-project

cd my-project

# to run the dev server with hot swap updates
npm run serve

# to build the web site for production
npm run build
</code></pre></div><p>The build process creates a <code>dist</code> folder that contains the static web site.
We will link this directory to in our docker compose file to tell nginx to server this directory for all requests to our site.</p> <p>Your project directory structure now looks like this:</p> <div class="language- extra-class"><pre class="language-text"><code>.
├─ ...
├─ client/
│  ├─ package.json
│  └─ my-project/
│     ├─ dist/
│     ├─ public/
│     ├─ src/
│     └─ package.json
└─ ...
</code></pre></div><p>You can add <code>**/dist/**</code> to your root .gitignore file to ignore the generated built files.</p> <h2 id="workshop-instructions"><a href="#workshop-instructions" aria-hidden="true" class="header-anchor">#</a> Workshop Instructions</h2> <p>The project has already set up the Vue web site. We just need to install the dependencies and start
serving the web site.</p> <blockquote><p>Install dependencies</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>cd client-stage2
npm install  # installs Vue CLI

cd my-project
npm install  # installs the Vue project files
</code></pre></div><blockquote><p>Try out the development environment</p></blockquote> <p>On your development machine cd to the my-project folder and try out the hot-swapping Vue server.</p> <div class="language- extra-class"><pre class="language-text"><code>cd client-stage2/my-project
npm run serve  # to build and serve the client sample vue web site
</code></pre></div><p>This launches the vue hot-swap server which watches for changes to your code, retranspiles the files and pushes the changes
to your open browser window. Go ahead and make a change to a file in the sample app. For example, add a paragraph into
<code>my-project/src/App.vue</code> in the topmost template section. Save the file (if your IDE doesn't do that for you automatically).
Return to your browser and the change will be there.</p> <blockquote><p>Build the client for production ready static files</p></blockquote> <p>Now build the client web site. Do this on both your dev and prod environments.
The build produces the production ready static web site.</p> <div class="language- extra-class"><pre class="language-text"><code>cd client-stage2/my-project
npm run build
</code></pre></div><p>Next we set up docker with nginx. Go to <a href="/may14/stage2/3.nginx.html">nginx</a></p></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/may14/stage2/" class="prev router-link-active">
          Stage 2 - Debian Server with Nginx in Docker, NPM, Node, Vue
        </a></span> <span class="next"><a href="/may14/stage2/3.nginx.html">
          Docker and Ngnix
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/may14/assets/js/app.e3ae97d2.js" defer></script><script src="/may14/assets/js/9.cb0d3982.js" defer></script>
  </body>
</html>
