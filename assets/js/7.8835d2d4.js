(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{169:function(t,e,a){"use strict";a.r(e);var s=a(0),r=Object(s.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"install-certbot-on-debian"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#install-certbot-on-debian","aria-hidden":"true"}},[t._v("#")]),t._v(" Install Certbot on Debian")]),t._v(" "),a("blockquote",[a("p",[t._v("Installing certbot was more difficult that it should be")])]),t._v(" "),a("p",[t._v("ON a clean fresh Digital Ocean Debian 9 server it takes some effort to install certbot.\nMany sites recommend three steps.  e.g. (https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-16-04)")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("add-apt-repository ppa:certbot/certbot\napt update\napt install python-certbot-apache\n")])])]),a("p",[t._v("But the first command gets this error")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("gpg: keybox '/tmp/tmpr4yek906/pubring.gpg' created\ngpg: failed to start the dirmngr '/usr/bin/dirmngr': No such file or directory\ngpg: connecting dirmngr at '/run/user/0/gnupg/d.rnajt48ww3h99oopj7cmnhwy/S.dirmngr' failed: No such file or directory\ngpg: keyserver receive failed: No dirmngr\n")])])]),a("p",[t._v("Another place says to (https://linuxhostsupport.com/blog/install-lets-encrypt-ssl-certificates-using-certbot/_")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("apt-get install software-properties-common python-software-properties\nadd-apt-repository ppa:certbot/certbot\napt-get update\napt-get install python-certbot-apache\n")])])]),a("p",[t._v("Error")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Package python-software-properties is not available, but is referred to by another package.\nThis may mean that the package is missing, has been obsoleted, or\nis only available from another source\nHowever the following packages replace it:\n  software-properties-common\n\nE: Package 'python-software-properties' has no installation candidate\n")])])]),a("p",[t._v("So I try installing just "),a("code",[t._v("software-properties-common")]),t._v(" and then "),a("code",[t._v("add-apt-repository ppa:certbot/certbot")]),t._v(" but the same dirmngr error appears.")]),t._v(" "),a("p",[t._v("Let’s look at the official Certbot site. https://certbot.eff.org/lets-encrypt/debianstretch-apache.html")]),t._v(" "),a("ol",[a("li",[t._v("Ssh onto server with account that has sudo privileges.")]),t._v(" "),a("li",[t._v("Instal backport https://backports.debian.org/Instructions/")]),t._v(" "),a("li",[t._v("Install certbot")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("apt-get install certbot python-certbot-apache -t stretch-backports\n")])])]),a("p",[t._v("Step 2 is hard.\nQuote:")]),t._v(" "),a("blockquote",[a("p",[t._v("Add backports to your sources.list\n"),a("br"),t._v(" "),a("code",[t._v("deb http://deb.debian.org/debian stretch-backports main")]),t._v(" "),a("br"),t._v('\nto your sources.list (or add a new file with the ".list" extension to /etc/apt/sources.list.d/) You can instead use https when the apt-transport-https package is installed.\n'),a("br"),t._v("\nRun\n"),a("code",[t._v("apt-get update")])])]),t._v(" "),a("p",[t._v("But it doesn’t say how to add the backport to the sources.list")]),t._v(" "),a("p",[t._v("A friend who is a true expert in Debian recommended this approach:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('echo "deb http://deb.debian.org/debian stretch-backports main" | tee -a /etc/apt/sources.list\n')])])]),a("p",[t._v("The complete set of steps to use are")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('echo "deb http://deb.debian.org/debian stretch-backports main" | tee -a /etc/apt/sources.list\napt-get update\napt-get install certbot python-certbot-apache -t stretch-backports\n#verify\ncertbot --version\n\n')])])])])}],!1,null,null,null);e.default=r.exports}}]);